{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../reservations/reservations.service\";\nimport * as i3 from \"../houses/houses.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../shared/convert-to-currency.pipe\";\nconst _c0 = function (a2, a3) {\n  return [\"/reservationform\", \"edit\", a2, a3];\n};\nexport class ReservationDetailsComponent {\n  constructor(_router, _reservationService, _houseService, activatedRoute) {\n    this._router = _router;\n    this._reservationService = _reservationService;\n    this._houseService = _houseService;\n    this.activatedRoute = activatedRoute;\n    this.viewTitle = 'Details';\n    activatedRoute.params.subscribe(params => {\n      if (params.id) this.loadReservation(+params['id']);\n    });\n  }\n  deleteReservation(reservation) {\n    const confirmDelete = confirm(`Are you sure you want to delete \"${reservation.House?.Title}\"?`);\n    if (confirmDelete) {\n      this._reservationService.deleteReservation(reservation.ReservationId).subscribe(response => {\n        if (response.success) {\n          console.log(response.message);\n        }\n      }, error => {\n        console.error('Error deleting reservation:', error);\n      });\n    }\n  }\n  loadReservation(reservationId) {\n    this._reservationService.getReservationById(reservationId).subscribe(reservation => {\n      console.log('retrieved reservation: ', reservation);\n      this.reservation = reservation;\n    }, error => {\n      console.error('Error loading reservation for details view:', error);\n    });\n  }\n  setHouseForReservations() {\n    this._houseService.getHouseById(this.reservation.HouseId).subscribe(house => {\n      console.log('Retrieved house:', house);\n      this.reservation.House = house;\n      console.log('Reservation after setting House:', this.reservation);\n    });\n  }\n  backToReservations() {\n    this._router.navigate(['/reservations']);\n  }\n  ngOnInit() {}\n}\nReservationDetailsComponent.ɵfac = function ReservationDetailsComponent_Factory(t) {\n  return new (t || ReservationDetailsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ReservationService), i0.ɵɵdirectiveInject(i3.HouseService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nReservationDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReservationDetailsComponent,\n  selectors: [[\"app-reservation-details-component\"]],\n  decls: 76,\n  vars: 40,\n  consts: [[1, \"my-4\"], [1, \"container\"], [1, \"row\", \"gx-5\", \"shadow-sm\", \"overflow-hidden\", 2, \"border-radius\", \"15px\"], [1, \"img-fluid\", \"col-md-6\", \"p-0\", 3, \"src\", \"alt\"], [1, \"row\", \"col-md-6\", \"p-4\"], [1, \"col-sm-5\"], [1, \"col-sm-7\"], [1, \"mt-3\"], [1, \"btn\", \"btn-outline-dark\", \"rounded-pill\", 3, \"click\"], [1, \"btn\", \"btn-secondary\", \"rounded-pill\", \"mx-2\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", \"rounded-pill\", 3, \"click\"], [3, \"src\", \"alt\"], [1, \"details\"], [1, \"title\"], [1, \"price\"], [1, \"description\"], [1, \"room-info\"], [1, \"location\"]],\n  template: function ReservationDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h3\", 0);\n      i0.ɵɵtext(1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2);\n      i0.ɵɵelement(4, \"img\", 3);\n      i0.ɵɵelementStart(5, \"dl\", 4)(6, \"h5\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"dt\", 5)(9, \"strong\");\n      i0.ɵɵtext(10, \"Date Created:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"dd\", 6);\n      i0.ɵɵtext(12);\n      i0.ɵɵpipe(13, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"hr\");\n      i0.ɵɵelementStart(15, \"dt\", 5)(16, \"strong\");\n      i0.ɵɵtext(17, \"Check-In\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"dd\", 6);\n      i0.ɵɵtext(19);\n      i0.ɵɵpipe(20, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"dt\", 5)(22, \"strong\");\n      i0.ɵɵtext(23, \"Check-Out\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"dd\", 6);\n      i0.ɵɵtext(25);\n      i0.ɵɵpipe(26, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"hr\");\n      i0.ɵɵelementStart(28, \"dt\", 5)(29, \"strong\");\n      i0.ɵɵtext(30, \"Booking duration\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"dd\", 6);\n      i0.ɵɵtext(32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"dt\", 5)(34, \"strong\");\n      i0.ɵɵtext(35, \"Price per night\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(36, \"dd\", 6);\n      i0.ɵɵtext(37);\n      i0.ɵɵpipe(38, \"convertToCurrency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"hr\");\n      i0.ɵɵelementStart(40, \"dt\", 5)(41, \"strong\");\n      i0.ɵɵtext(42, \"Total Price\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(43, \"dd\", 6)(44, \"strong\");\n      i0.ɵɵtext(45);\n      i0.ɵɵpipe(46, \"convertToCurrency\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(47, \"div\", 7)(48, \"a\", 8);\n      i0.ɵɵlistener(\"click\", function ReservationDetailsComponent_Template_a_click_48_listener() {\n        return ctx.backToReservations();\n      });\n      i0.ɵɵtext(49, \"Back to Reservations\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"a\", 9);\n      i0.ɵɵtext(51, \"Update\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"a\", 10);\n      i0.ɵɵlistener(\"click\", function ReservationDetailsComponent_Template_a_click_52_listener() {\n        return ctx.deleteReservation(ctx.reservation);\n      });\n      i0.ɵɵtext(53, \"Delete\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(54, \"div\", 1);\n      i0.ɵɵelement(55, \"img\", 11);\n      i0.ɵɵelementStart(56, \"div\", 12)(57, \"span\", 13);\n      i0.ɵɵtext(58);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"div\", 14)(60, \"span\");\n      i0.ɵɵtext(61);\n      i0.ɵɵpipe(62, \"convertToCurrency\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(63, \"div\", 15)(64, \"span\");\n      i0.ɵɵtext(65);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(66, \"div\", 16)(67, \"span\");\n      i0.ɵɵtext(68);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"span\");\n      i0.ɵɵtext(70);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(71, \"div\", 17)(72, \"span\");\n      i0.ɵɵtext(73, \"Location\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(74, \"span\");\n      i0.ɵɵtext(75);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      let tmp_8_0;\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" Reservation \", ctx.reservation.ReservationId, \"\\n\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"src\", ctx.reservation.House == null ? null : ctx.reservation.House.HouseImageUrl, i0.ɵɵsanitizeUrl)(\"alt\", ctx.reservation.House == null ? null : ctx.reservation.House.Title);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.reservation.House == null ? null : ctx.reservation.House.Title);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(13, 19, ctx.reservation.DateCreated, \"dd-MM-yyyy\"));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(20, 22, ctx.reservation.CheckInDate, \"dd-MM-yyyy\"));\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(26, 25, ctx.reservation.CheckOutDate, \"dd-MM-yyyy\"));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\"\", ctx.reservation.BookingDuration, \" days\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(38, 28, (tmp_8_0 = ctx.reservation.House == null ? null : ctx.reservation.House.PricePerNight) !== null && tmp_8_0 !== undefined ? tmp_8_0 : 0, \"kr\"));\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(46, 31, ctx.reservation.TotalPrice, \"kr\"));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(37, _c0, ctx.reservation.ReservationId, ctx.viewTitle));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"src\", ctx.reservation.House == null ? null : ctx.reservation.House.HouseImageUrl, i0.ɵɵsanitizeUrl)(\"alt\", ctx.reservation.House == null ? null : ctx.reservation.House.Title);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.reservation.House == null ? null : ctx.reservation.House.Title);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(62, 34, ctx.reservation.House == null ? null : ctx.reservation.House.PricePerNight, \"kr\"), \" / night\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.reservation.House == null ? null : ctx.reservation.House.Description);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", ctx.reservation.House == null ? null : ctx.reservation.House.Bedrooms, \" Bedrooms\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"\", ctx.reservation.House == null ? null : ctx.reservation.House.Bathrooms, \" Bathrooms\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.reservation.House == null ? null : ctx.reservation.House.Location);\n    }\n  },\n  dependencies: [i1.RouterLink, i4.DatePipe, i5.ConvertToCurrency],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmVzZXJ2YXRpb24tZGV0YWlscy9yZXNlcnZhdGlvbi1kZXRhaWxzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0E0RUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuLmNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIG1hcmdpbjogM3JlbSAzcmVtIDFyZW0gM3JlbTtcbn1cblxuLmNvbnRhaW5lciA+ICoge1xuICAgIG1pbi13aWR0aDogMjVyZW07XG4gICAgbWF4LXdpZHRoOiA0MHJlbTtcbn1cblxuaW1nIHtcbiAgZmxleDogMSAwO1xuICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgYm9yZGVyLXJhZGl1czogM3JlbTtcbiAgaGVpZ2h0OiAzNXJlbTtcbn1cblxuLmRldGFpbHMge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBmbGV4OiAxIDA7XG4gICAgYm9yZGVyLXJhZGl1czogM3JlbTtcbiAgICBwYWRkaW5nOiAycmVtO1xuICAgIGNvbG9yOiBibGFjaztcbiAgICBtYXJnaW4tbGVmdDogMXJlbTtcbn1cblxuLnRpdGxlIHtcbiAgICBmb250LXNpemU6IDIuMnJlbTtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnByaWNlIHtcbiAgICBmb250LXNpemU6IDEuNXJlbTtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnJvb20taW5mbyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgbWFyZ2luOiAxcmVtIDA7XG59XG5cbiAgLnJvb20taW5mbyA+IHNwYW4ge1xuICAgIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xuICAgIG1hcmdpbjogMC41cmVtIDAuNXJlbSAwLjVyZW0gMDtcbiAgICBib3JkZXItcmFkaXVzOiAycmVtO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgLjA1KTtcbiAgfVxuXG4ubG9jYXRpb24ge1xuICAgIG1hcmdpbjogMnJlbSAycmVtIDJyZW0gMDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cblxuLmxvY2F0aW9uIHNwYW46Zmlyc3QtY2hpbGQge1xuICAgIGZvbnQtc2l6ZTogMS4zcmVtO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYWN0aW9ucyB7XG4gICAgbWFyZ2luLWxlZnQ6IDQuNXJlbTtcbn1cblxuLmFjdGlvbnMgYnV0dG9uIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcbiAgICBmb250LXNpemU6IDFyZW07XG4gICAgcGFkZGluZzogMC40cmVtIDFyZW07XG59XG4qL1xuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["ReservationDetailsComponent","constructor","_router","_reservationService","_houseService","activatedRoute","params","subscribe","id","loadReservation","deleteReservation","reservation","confirmDelete","confirm","House","Title","ReservationId","response","success","console","log","message","error","reservationId","getReservationById","setHouseForReservations","getHouseById","HouseId","house","backToReservations","navigate","ngOnInit","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/teresapham/Projects/Group-Project-2/Group-Project-2/ClientApp/src/app/reservation-details/reservation-details.component.ts","/Users/teresapham/Projects/Group-Project-2/Group-Project-2/ClientApp/src/app/reservation-details/reservation-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ReservationService } from '../reservations/reservations.service';\nimport { IReservation } from '../reservations/reservation';\nimport { HouseService } from '../houses/houses.service';\n\n@Component({\n  selector: 'app-reservation-details-component',\n  templateUrl: './reservation-details.component.html',\n  styleUrls: ['./reservation-details.component.css']\n})\n\nexport class ReservationDetailsComponent implements OnInit {\n  viewTitle: string = 'Details';\n  reservation!: IReservation;\n\n  constructor(\n    private _router: Router,\n    private _reservationService: ReservationService,\n    private _houseService: HouseService,\n    private activatedRoute: ActivatedRoute) {\n    activatedRoute.params.subscribe((params) => {\n      if (params.id)\n        this.loadReservation(+params['id'])\n    })\n  }\n\n  deleteReservation(reservation: IReservation): void {\n    const confirmDelete = confirm(`Are you sure you want to delete \"${reservation.House?.Title}\"?`);\n    if (confirmDelete) {\n      this._reservationService.deleteReservation(reservation.ReservationId)\n        .subscribe(\n          (response) => {\n            if (response.success) {\n              console.log(response.message);\n            }\n          },\n          (error) => {\n            console.error('Error deleting reservation:', error);\n          });\n    }\n  }\n\n  loadReservation(reservationId: number) {\n    this._reservationService.getReservationById(reservationId)\n      .subscribe(\n        (reservation: any) => {\n          console.log('retrieved reservation: ', reservation);\n          this.reservation = reservation;\n        }, (error: any) => {\n          console.error('Error loading reservation for details view:', error);\n        }\n      );\n  }\n\n  setHouseForReservations() {\n    this._houseService.getHouseById(this.reservation.HouseId).subscribe(house => {\n      console.log('Retrieved house:', house);\n      this.reservation.House = house;\n      console.log('Reservation after setting House:', this.reservation);\n    });\n  }\n\n  backToReservations() {\n    this._router.navigate(['/reservations']);\n  }\n\n  ngOnInit(): void {\n\n  }\n}\n","<h3 class=\"my-4\">\n    Reservation {{reservation.ReservationId}}\n</h3>\n\n<div class=\"container\">\n    <div class=\"row gx-5 shadow-sm overflow-hidden\" style=\"border-radius: 15px\">\n        <img class=\"img-fluid col-md-6 p-0\" [src]=\"reservation.House?.HouseImageUrl\" [alt]=\"reservation.House?.Title\" />\n        <dl class=\"row col-md-6 p-4\">\n            <h5>{{ reservation.House?.Title }}</h5>\n            <dt class=\"col-sm-5\"><strong>Date Created:</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.DateCreated | date: 'dd-MM-yyyy'}}</dd>\n            <hr />\n            <dt class=\"col-sm-5\"><strong>Check-In</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.CheckInDate | date: 'dd-MM-yyyy'}}</dd>\n\n            <dt class=\"col-sm-5\"><strong>Check-Out</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.CheckOutDate | date: 'dd-MM-yyyy'}}</dd>\n            <hr />\n            <dt class=\"col-sm-5\"><strong>Booking duration</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.BookingDuration}} days</dd>\n\n            <dt class=\"col-sm-5\"><strong>Price per night</strong> </dt>\n            <dd class=\"col-sm-7\">{{reservation.House?.PricePerNight ?? 0 | convertToCurrency: 'kr'}}</dd>\n            <hr />\n            <dt class=\"col-sm-5\"><strong>Total Price</strong> </dt>\n            <dd class=\"col-sm-7\"><strong>{{reservation.TotalPrice | convertToCurrency: 'kr'}}</strong></dd>\n        </dl>\n    </div>\n</div>\n<div class=\"mt-3\">\n    <a class=\"btn btn-outline-dark rounded-pill\" (click)=\"backToReservations()\">Back to Reservations</a>\n    <a class=\"btn btn-secondary rounded-pill mx-2\" [routerLink]=\"['/reservationform', 'edit', reservation.ReservationId, viewTitle]\">Update</a>\n    <a class=\"btn btn-danger rounded-pill\" (click)=\"deleteReservation(reservation)\">Delete</a>\n</div>\n\n<div class=\"container\">\n    <img [src]=\"reservation.House?.HouseImageUrl\" [alt]=\"reservation.House?.Title\" />\n    <div class=\"details\">\n        <span class=\"title\">{{ reservation.House?.Title }}</span>\n        <div class=\"price\">\n            <span>{{ reservation.House?.PricePerNight | convertToCurrency: 'kr' }} / night</span>\n        </div>\n        <div class=\"description\"><span>{{ reservation.House?.Description }}</span></div>\n        <div class=\"room-info\">\n            <span>{{ reservation.House?.Bedrooms }} Bedrooms</span>\n            <span>{{ reservation.House?.Bathrooms }} Bathrooms</span>\n        </div>\n        <div class=\"location\">\n            <span>Location</span>\n            <span>{{ reservation.House?.Location }}</span>\n        </div>\n    </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}