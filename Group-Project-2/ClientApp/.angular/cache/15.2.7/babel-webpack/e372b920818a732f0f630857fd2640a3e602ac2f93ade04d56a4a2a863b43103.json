{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../reservations/reservations.service\";\nimport * as i3 from \"../houses/houses.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../shared/convert-to-currency.pipe\";\nconst _c0 = function (a2, a3) {\n  return [\"/reservationform\", \"edit\", a2, a3];\n};\nexport class ReservationDetailsComponent {\n  constructor(_router, _reservationService, _houseService, activatedRoute) {\n    this._router = _router;\n    this._reservationService = _reservationService;\n    this._houseService = _houseService;\n    this.activatedRoute = activatedRoute;\n    this.viewTitle = 'Details';\n    activatedRoute.params.subscribe(params => {\n      if (params.id) this.loadReservation(+params['id']);\n    });\n  }\n  deleteReservation(reservation) {\n    const confirmDelete = confirm(`Are you sure you want to delete \"${reservation.House?.Title}\"?`);\n    if (confirmDelete) {\n      this._reservationService.deleteReservation(reservation.ReservationId).subscribe(response => {\n        if (response.success) {\n          console.log(response.message);\n        }\n      }, error => {\n        console.error('Error deleting reservation:', error);\n      });\n    }\n  }\n  loadReservation(reservationId) {\n    this._reservationService.getReservationById(reservationId).subscribe(reservation => {\n      console.log('retrieved reservation: ', reservation);\n      this.reservation = reservation;\n    }, error => {\n      console.error('Error loading reservation for details view:', error);\n    });\n  }\n  setHouseForReservations() {\n    this._houseService.getHouseById(this.reservation.HouseId).subscribe(house => {\n      console.log('Retrieved house:', house);\n      this.reservation.House = house;\n      console.log('Reservation after setting House:', this.reservation);\n    });\n  }\n  backToReservations() {\n    this._router.navigate(['/reservations']);\n  }\n  ngOnInit() {}\n}\nReservationDetailsComponent.ɵfac = function ReservationDetailsComponent_Factory(t) {\n  return new (t || ReservationDetailsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ReservationService), i0.ɵɵdirectiveInject(i3.HouseService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nReservationDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReservationDetailsComponent,\n  selectors: [[\"app-reservation-details-component\"]],\n  decls: 71,\n  vars: 37,\n  consts: [[1, \"my-4\"], [1, \"container\", \"row\"], [1, \"col-md-6\", 3, \"src\", \"alt\"], [1, \"col-md-6\"], [1, \"title\"], [1, \"price\"], [1, \"description\"], [1, \"room-info\"], [1, \"location\"], [1, \"row\"], [1, \"col-sm-5\"], [1, \"col-sm-7\"], [1, \"mt-3\"], [1, \"btn\", \"btn-outline-dark\", \"rounded-pill\", 3, \"click\"], [1, \"btn\", \"btn-secondary\", \"rounded-pill\", \"mx-2\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", \"rounded-pill\", 3, \"click\"]],\n  template: function ReservationDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h3\", 0);\n      i0.ɵɵtext(1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵelement(3, \"img\", 2);\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"span\", 4);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"span\");\n      i0.ɵɵtext(9);\n      i0.ɵɵpipe(10, \"convertToCurrency\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 6)(12, \"span\");\n      i0.ɵɵtext(13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 7)(15, \"span\");\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"span\");\n      i0.ɵɵtext(18);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"div\", 8)(20, \"span\");\n      i0.ɵɵtext(21, \"Location\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"span\");\n      i0.ɵɵtext(23);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"dl\", 9)(25, \"dt\", 10)(26, \"strong\");\n      i0.ɵɵtext(27, \"Date Created:\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"dd\", 11);\n      i0.ɵɵtext(29);\n      i0.ɵɵpipe(30, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(31, \"hr\");\n      i0.ɵɵelementStart(32, \"dt\", 10)(33, \"strong\");\n      i0.ɵɵtext(34, \"Check-In\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(35, \"dd\", 11);\n      i0.ɵɵtext(36);\n      i0.ɵɵpipe(37, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"dt\", 10)(39, \"strong\");\n      i0.ɵɵtext(40, \"Check-Out\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(41, \"dd\", 11);\n      i0.ɵɵtext(42);\n      i0.ɵɵpipe(43, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(44, \"hr\");\n      i0.ɵɵelementStart(45, \"dt\", 10)(46, \"strong\");\n      i0.ɵɵtext(47, \"Booking duration\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(48, \"dd\", 11);\n      i0.ɵɵtext(49);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"dt\", 10)(51, \"strong\");\n      i0.ɵɵtext(52, \"Price per night\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(53, \"dd\", 11);\n      i0.ɵɵtext(54);\n      i0.ɵɵpipe(55, \"convertToCurrency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(56, \"hr\");\n      i0.ɵɵelementStart(57, \"dt\", 10)(58, \"strong\");\n      i0.ɵɵtext(59, \"Total Price\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(60, \"dd\", 11)(61, \"strong\");\n      i0.ɵɵtext(62);\n      i0.ɵɵpipe(63, \"convertToCurrency\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(64, \"div\", 12)(65, \"a\", 13);\n      i0.ɵɵlistener(\"click\", function ReservationDetailsComponent_Template_a_click_65_listener() {\n        return ctx.backToReservations();\n      });\n      i0.ɵɵtext(66, \"Back to Reservations\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(67, \"a\", 14);\n      i0.ɵɵtext(68, \"Update\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(69, \"a\", 15);\n      i0.ɵɵlistener(\"click\", function ReservationDetailsComponent_Template_a_click_69_listener() {\n        return ctx.deleteReservation(ctx.reservation);\n      });\n      i0.ɵɵtext(70, \"Delete\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      let tmp_4_0;\n      let tmp_13_0;\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" Reservation \", ctx.reservation.ReservationId, \"\\n\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"src\", ctx.reservation.House == null ? null : ctx.reservation.House.HouseImageUrl, i0.ɵɵsanitizeUrl)(\"alt\", ctx.reservation.House == null ? null : ctx.reservation.House.Title);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.reservation.House == null ? null : ctx.reservation.House.Title);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(10, 16, (tmp_4_0 = ctx.reservation.House == null ? null : ctx.reservation.House.PricePerNight) !== null && tmp_4_0 !== undefined ? tmp_4_0 : 0, \"kr\"), \" / night\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.reservation.House == null ? null : ctx.reservation.House.Description);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", ctx.reservation.House == null ? null : ctx.reservation.House.Bedrooms, \" Bedrooms\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"\", ctx.reservation.House == null ? null : ctx.reservation.House.Bathrooms, \" Bathrooms\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.reservation.House == null ? null : ctx.reservation.House.Location);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(30, 19, ctx.reservation.DateCreated, \"dd-MM-yyyy\"));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(37, 22, ctx.reservation.CheckInDate, \"dd-MM-yyyy\"));\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(43, 25, ctx.reservation.CheckOutDate, \"dd-MM-yyyy\"));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\"\", ctx.reservation.BookingDuration, \" days\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(55, 28, (tmp_13_0 = ctx.reservation.House == null ? null : ctx.reservation.House.PricePerNight) !== null && tmp_13_0 !== undefined ? tmp_13_0 : 0, \"kr\"));\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(63, 31, ctx.reservation.TotalPrice, \"kr\"));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(34, _c0, ctx.reservation.ReservationId, ctx.viewTitle));\n    }\n  },\n  dependencies: [i1.RouterLink, i4.DatePipe, i5.ConvertToCurrency],\n  styles: [\".container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  flex-wrap: wrap;\\n  margin: 3rem 3rem 1rem 3rem;\\n}\\n\\n.container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\\n    min-width: 25rem;\\n    max-width: 40rem;\\n}\\n\\nimg[_ngcontent-%COMP%] {\\n  flex: 1 0;\\n  object-fit: cover;\\n  border-radius: 3rem;\\n  height: 35rem;\\n}\\n\\n.details[_ngcontent-%COMP%] {\\n    width: 100%;\\n    display: flex;\\n    flex-direction: column;\\n    flex: 1 0;\\n    border-radius: 3rem;\\n    padding: 2rem;\\n    color: black;\\n    margin-left: 1rem;\\n}\\n\\n.title[_ngcontent-%COMP%] {\\n    font-size: 2.2rem;\\n    font-weight: bold;\\n}\\n\\n.price[_ngcontent-%COMP%] {\\n    font-size: 1.5rem;\\n    font-weight: bold;\\n}\\n\\n.room-info[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-wrap: wrap;\\n    margin: 1rem 0;\\n}\\n\\n.room-info[_ngcontent-%COMP%]    > span[_ngcontent-%COMP%] {\\n  padding: 0.5rem 1rem;\\n  font-size: 0.9rem;\\n  margin: 0.5rem 0.5rem 0.5rem 0;\\n  border-radius: 2rem;\\n  background-color: rgba(0, 0, 0, .05);\\n}\\n\\n.location[_ngcontent-%COMP%] {\\n    margin-bottom: 2rem;\\n    display: flex;\\n    justify-content: space-between;\\n}\\n\\n.location[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child {\\n    font-size: 1.3rem;\\n    font-weight: bold;\\n}\\n\\n.actions[_ngcontent-%COMP%] {\\n    margin-left: 4.5rem;\\n}\\n\\n.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    margin-right: 0.5rem;\\n    font-size: 1rem;\\n    padding: 0.4rem 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmVzZXJ2YXRpb24tZGV0YWlscy9yZXNlcnZhdGlvbi1kZXRhaWxzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLDJCQUEyQjtBQUM3Qjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixnQkFBZ0I7QUFDcEI7O0FBRUE7RUFDRSxTQUFTO0VBQ1QsaUJBQWlCO0VBQ2pCLG1CQUFtQjtFQUNuQixhQUFhO0FBQ2Y7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixTQUFTO0lBQ1QsbUJBQW1CO0lBQ25CLGFBQWE7SUFDYixZQUFZO0lBQ1osaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLGlCQUFpQjtJQUNqQixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsZUFBZTtJQUNmLGNBQWM7QUFDbEI7O0FBRUE7RUFDRSxvQkFBb0I7RUFDcEIsaUJBQWlCO0VBQ2pCLDhCQUE4QjtFQUM5QixtQkFBbUI7RUFDbkIsb0NBQW9DO0FBQ3RDOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLGFBQWE7SUFDYiw4QkFBOEI7QUFDbEM7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksb0JBQW9CO0lBQ3BCLGVBQWU7SUFDZixvQkFBb0I7QUFDeEIiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZmxleC13cmFwOiB3cmFwO1xuICBtYXJnaW46IDNyZW0gM3JlbSAxcmVtIDNyZW07XG59XG5cbi5jb250YWluZXIgPiAqIHtcbiAgICBtaW4td2lkdGg6IDI1cmVtO1xuICAgIG1heC13aWR0aDogNDByZW07XG59XG5cbmltZyB7XG4gIGZsZXg6IDEgMDtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDNyZW07XG4gIGhlaWdodDogMzVyZW07XG59XG5cbi5kZXRhaWxzIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZmxleDogMSAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDNyZW07XG4gICAgcGFkZGluZzogMnJlbTtcbiAgICBjb2xvcjogYmxhY2s7XG4gICAgbWFyZ2luLWxlZnQ6IDFyZW07XG59XG5cbi50aXRsZSB7XG4gICAgZm9udC1zaXplOiAyLjJyZW07XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5wcmljZSB7XG4gICAgZm9udC1zaXplOiAxLjVyZW07XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5yb29tLWluZm8ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIG1hcmdpbjogMXJlbSAwO1xufVxuXG4ucm9vbS1pbmZvID4gc3BhbiB7XG4gIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xuICBmb250LXNpemU6IDAuOXJlbTtcbiAgbWFyZ2luOiAwLjVyZW0gMC41cmVtIDAuNXJlbSAwO1xuICBib3JkZXItcmFkaXVzOiAycmVtO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIC4wNSk7XG59XG5cbi5sb2NhdGlvbiB7XG4gICAgbWFyZ2luLWJvdHRvbTogMnJlbTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cblxuLmxvY2F0aW9uIHNwYW46Zmlyc3QtY2hpbGQge1xuICAgIGZvbnQtc2l6ZTogMS4zcmVtO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYWN0aW9ucyB7XG4gICAgbWFyZ2luLWxlZnQ6IDQuNXJlbTtcbn1cblxuLmFjdGlvbnMgYnV0dG9uIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcbiAgICBmb250LXNpemU6IDFyZW07XG4gICAgcGFkZGluZzogMC40cmVtIDFyZW07XG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["ReservationDetailsComponent","constructor","_router","_reservationService","_houseService","activatedRoute","params","subscribe","id","loadReservation","deleteReservation","reservation","confirmDelete","confirm","House","Title","ReservationId","response","success","console","log","message","error","reservationId","getReservationById","setHouseForReservations","getHouseById","HouseId","house","backToReservations","navigate","ngOnInit","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/teresapham/Projects/Group-Project-2/Group-Project-2/ClientApp/src/app/reservation-details/reservation-details.component.ts","/Users/teresapham/Projects/Group-Project-2/Group-Project-2/ClientApp/src/app/reservation-details/reservation-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ReservationService } from '../reservations/reservations.service';\nimport { IReservation } from '../reservations/reservation';\nimport { HouseService } from '../houses/houses.service';\n\n@Component({\n  selector: 'app-reservation-details-component',\n  templateUrl: './reservation-details.component.html',\n  styleUrls: ['./reservation-details.component.css']\n})\n\nexport class ReservationDetailsComponent implements OnInit {\n  viewTitle: string = 'Details';\n  reservation!: IReservation;\n\n  constructor(\n    private _router: Router,\n    private _reservationService: ReservationService,\n    private _houseService: HouseService,\n    private activatedRoute: ActivatedRoute) {\n    activatedRoute.params.subscribe((params) => {\n      if (params.id)\n        this.loadReservation(+params['id'])\n    })\n  }\n\n  deleteReservation(reservation: IReservation): void {\n    const confirmDelete = confirm(`Are you sure you want to delete \"${reservation.House?.Title}\"?`);\n    if (confirmDelete) {\n      this._reservationService.deleteReservation(reservation.ReservationId)\n        .subscribe(\n          (response) => {\n            if (response.success) {\n              console.log(response.message);\n            }\n          },\n          (error) => {\n            console.error('Error deleting reservation:', error);\n          });\n    }\n  }\n\n  loadReservation(reservationId: number) {\n    this._reservationService.getReservationById(reservationId)\n      .subscribe(\n        (reservation: any) => {\n          console.log('retrieved reservation: ', reservation);\n          this.reservation = reservation;\n        }, (error: any) => {\n          console.error('Error loading reservation for details view:', error);\n        }\n      );\n  }\n\n  setHouseForReservations() {\n    this._houseService.getHouseById(this.reservation.HouseId).subscribe(house => {\n      console.log('Retrieved house:', house);\n      this.reservation.House = house;\n      console.log('Reservation after setting House:', this.reservation);\n    });\n  }\n\n  backToReservations() {\n    this._router.navigate(['/reservations']);\n  }\n\n  ngOnInit(): void {\n\n  }\n}\n","<h3 class=\"my-4\">\n    Reservation {{reservation.ReservationId}}\n</h3>\n\n<div class=\"container row\">\n    <img [src]=\"reservation.House?.HouseImageUrl\" [alt]=\"reservation.House?.Title\" class=\"col-md-6\"/>\n    <div class=\"details\" class=\"col-md-6\">\n        <span class=\"title\">{{ reservation.House?.Title }}</span>\n        <div class=\"price\">\n            <span>{{ reservation.House?.PricePerNight ?? 0 | convertToCurrency: 'kr'}} / night</span>\n        </div>\n        <div class=\"description\"><span>{{ reservation.House?.Description }}</span></div>\n        <div class=\"room-info\">\n            <span>{{ reservation.House?.Bedrooms }} Bedrooms</span>\n            <span>{{ reservation.House?.Bathrooms }} Bathrooms</span>\n        </div>\n        <div class=\"location\">\n            <span>Location</span>\n            <span>{{ reservation.House?.Location }}</span>\n        </div>\n        <dl class=\"row\">\n            <dt class=\"col-sm-5\"><strong>Date Created:</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.DateCreated | date: 'dd-MM-yyyy'}}</dd>\n            <hr />\n            <dt class=\"col-sm-5\"><strong>Check-In</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.CheckInDate | date: 'dd-MM-yyyy'}}</dd>\n\n            <dt class=\"col-sm-5\"><strong>Check-Out</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.CheckOutDate | date: 'dd-MM-yyyy'}}</dd>\n            <hr />\n            <dt class=\"col-sm-5\"><strong>Booking duration</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.BookingDuration}} days</dd>\n\n            <dt class=\"col-sm-5\"><strong>Price per night</strong> </dt>\n            <dd class=\"col-sm-7\">{{reservation.House?.PricePerNight ?? 0 | convertToCurrency: 'kr'}}</dd>\n            <hr />\n            <dt class=\"col-sm-5\"><strong>Total Price</strong> </dt>\n            <dd class=\"col-sm-7\"><strong>{{reservation.TotalPrice | convertToCurrency: 'kr'}}</strong></dd>\n        </dl>\n    </div>\n</div>\n<div class=\"mt-3\">\n    <a class=\"btn btn-outline-dark rounded-pill\" (click)=\"backToReservations()\">Back to Reservations</a>\n    <a class=\"btn btn-secondary rounded-pill mx-2\" [routerLink]=\"['/reservationform', 'edit', reservation.ReservationId, viewTitle]\">Update</a>\n    <a class=\"btn btn-danger rounded-pill\" (click)=\"deleteReservation(reservation)\">Delete</a>\n</div>\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}