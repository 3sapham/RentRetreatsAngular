{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../reservations/reservations.service\";\nimport * as i3 from \"../houses/houses.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../shared/convert-to-currency.pipe\";\nconst _c0 = function (a2, a3) {\n  return [\"/reservationform\", \"edit\", a2, a3];\n};\nexport class ReservationDetailsComponent {\n  constructor(_router, _reservationService, _houseService, activatedRoute) {\n    this._router = _router;\n    this._reservationService = _reservationService;\n    this._houseService = _houseService;\n    this.activatedRoute = activatedRoute;\n    this.viewTitle = 'Details';\n    activatedRoute.params.subscribe(params => {\n      if (params.id) this.loadReservation(+params['id']);\n    });\n  }\n  deleteReservation(reservation) {\n    const confirmDelete = confirm(`Are you sure you want to delete \"${reservation.House?.Title}\"?`);\n    if (confirmDelete) {\n      this._reservationService.deleteReservation(reservation.ReservationId).subscribe(response => {\n        if (response.success) {\n          console.log(response.message);\n          this._router.navigate(['/reservations']);\n        }\n      }, error => {\n        console.error('Error deleting reservation:', error);\n      });\n    }\n  }\n  loadReservation(reservationId) {\n    this._reservationService.getReservationById(reservationId).subscribe(reservation => {\n      console.log('retrieved reservation: ', reservation);\n      this.reservation = reservation;\n    }, error => {\n      console.error('Error loading reservation for details view:', error);\n    });\n  }\n  setHouseForReservations() {\n    this._houseService.getHouseById(this.reservation.HouseId).subscribe(house => {\n      console.log('Retrieved house:', house);\n      this.reservation.House = house;\n      console.log('Reservation after setting House:', this.reservation);\n    });\n  }\n  backToReservations() {\n    this._router.navigate(['/reservations']);\n  }\n  ngOnInit() {}\n}\nReservationDetailsComponent.ɵfac = function ReservationDetailsComponent_Factory(t) {\n  return new (t || ReservationDetailsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ReservationService), i0.ɵɵdirectiveInject(i3.HouseService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nReservationDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReservationDetailsComponent,\n  selectors: [[\"app-reservation-details-component\"]],\n  decls: 79,\n  vars: 40,\n  consts: [[1, \"my-3\"], [1, \"btn\", \"btn-outline-dark\", \"rounded-pill\", 3, \"click\"], [1, \"my-4\"], [1, \"container\", \"row\"], [1, \"col-md-6\", 3, \"src\", \"alt\", \"routerLink\"], [1, \"details\", \"col-md-6\", \"p-3\"], [1, \"title\"], [1, \"price\"], [1, \"description\"], [1, \"room-info\", \"my-3\"], [1, \"badge\", \"rounded-pill\", \"bg-light\", \"text-dark\"], [1, \"row\"], [1, \"col-sm-5\"], [1, \"col-sm-7\"], [1, \"row\", \"mt-3\"], [1, \"col-md-6\"], [1, \"btn\", \"btn-secondary\", \"rounded-pill\", \"w-100\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", \"rounded-pill\", \"w-100\", 3, \"click\"]],\n  template: function ReservationDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"a\", 1);\n      i0.ɵɵlistener(\"click\", function ReservationDetailsComponent_Template_a_click_1_listener() {\n        return ctx.backToReservations();\n      });\n      i0.ɵɵtext(2, \"Back to Reservations\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"h3\", 2);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 3);\n      i0.ɵɵelement(6, \"img\", 4);\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"span\", 6);\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 7)(11, \"span\");\n      i0.ɵɵtext(12);\n      i0.ɵɵpipe(13, \"convertToCurrency\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 8)(15, \"span\");\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 9)(18, \"span\", 10);\n      i0.ɵɵtext(19);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"span\", 10);\n      i0.ɵɵtext(21);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"dl\", 11)(23, \"dt\", 12)(24, \"strong\");\n      i0.ɵɵtext(25, \"Location\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"dd\", 13);\n      i0.ɵɵtext(27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"dt\", 12)(29, \"strong\");\n      i0.ɵɵtext(30, \"Host\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"dd\", 13);\n      i0.ɵɵtext(32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"dt\", 12)(34, \"strong\");\n      i0.ɵɵtext(35, \"Date Created\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(36, \"dd\", 13);\n      i0.ɵɵtext(37);\n      i0.ɵɵpipe(38, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"hr\");\n      i0.ɵɵelementStart(40, \"dt\", 12)(41, \"strong\");\n      i0.ɵɵtext(42, \"Check-In\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(43, \"dd\", 13);\n      i0.ɵɵtext(44);\n      i0.ɵɵpipe(45, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"dt\", 12)(47, \"strong\");\n      i0.ɵɵtext(48, \"Check-Out\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(49, \"dd\", 13);\n      i0.ɵɵtext(50);\n      i0.ɵɵpipe(51, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(52, \"hr\");\n      i0.ɵɵelementStart(53, \"dt\", 12)(54, \"strong\");\n      i0.ɵɵtext(55, \"Booking duration\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(56, \"dd\", 13);\n      i0.ɵɵtext(57);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(58, \"dt\", 12)(59, \"strong\");\n      i0.ɵɵtext(60, \"Price per night\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(61, \"dd\", 13);\n      i0.ɵɵtext(62);\n      i0.ɵɵpipe(63, \"convertToCurrency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(64, \"hr\");\n      i0.ɵɵelementStart(65, \"dt\", 12)(66, \"strong\");\n      i0.ɵɵtext(67, \"Total Price\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(68, \"dd\", 13)(69, \"strong\");\n      i0.ɵɵtext(70);\n      i0.ɵɵpipe(71, \"convertToCurrency\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(72, \"div\", 14)(73, \"div\", 15)(74, \"a\", 16);\n      i0.ɵɵtext(75, \"Update\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(76, \"div\", 15)(77, \"a\", 17);\n      i0.ɵɵlistener(\"click\", function ReservationDetailsComponent_Template_a_click_77_listener() {\n        return ctx.deleteReservation(ctx.reservation);\n      });\n      i0.ɵɵtext(78, \"Delete\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      let tmp_5_0;\n      let tmp_15_0;\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" Reservation \", ctx.reservation.ReservationId, \"\\n\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/house-details/\", ctx.reservation.HouseId, \"\");\n      i0.ɵɵproperty(\"src\", ctx.reservation.House == null ? null : ctx.reservation.House.HouseImageUrl, i0.ɵɵsanitizeUrl)(\"alt\", ctx.reservation.House == null ? null : ctx.reservation.House.Title);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.reservation.House == null ? null : ctx.reservation.House.Title);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(13, 19, (tmp_5_0 = ctx.reservation.House == null ? null : ctx.reservation.House.PricePerNight) !== null && tmp_5_0 !== undefined ? tmp_5_0 : 0, \"kr\"), \" / night\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.reservation.House == null ? null : ctx.reservation.House.Description);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"\", ctx.reservation.House == null ? null : ctx.reservation.House.Bedrooms, \" Bedrooms\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"\", ctx.reservation.House == null ? null : ctx.reservation.House.Bathrooms, \" Bathrooms\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.reservation.House == null ? null : ctx.reservation.House.Location);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate2(\"\", ctx.reservation.House == null ? null : ctx.reservation.House.User == null ? null : ctx.reservation.House.User.FirstName, \" \", ctx.reservation.House == null ? null : ctx.reservation.House.User == null ? null : ctx.reservation.House.User.LastName, \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(38, 22, ctx.reservation.DateCreated, \"dd-MM-yyyy\"));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(45, 25, ctx.reservation.CheckInDate, \"dd-MM-yyyy\"));\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(51, 28, ctx.reservation.CheckOutDate, \"dd-MM-yyyy\"));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\"\", ctx.reservation.BookingDuration, \" days\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(63, 31, (tmp_15_0 = ctx.reservation.House == null ? null : ctx.reservation.House.PricePerNight) !== null && tmp_15_0 !== undefined ? tmp_15_0 : 0, \"kr\"));\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(71, 34, ctx.reservation.TotalPrice, \"kr\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction2(37, _c0, ctx.reservation.ReservationId, ctx.viewTitle));\n    }\n  },\n  dependencies: [i1.RouterLink, i4.DatePipe, i5.ConvertToCurrency],\n  styles: [\".container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  flex-wrap: wrap;\\n}\\n\\n.container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\\n    min-width: 25rem;\\n    max-width: 40rem;\\n}\\n\\nimg[_ngcontent-%COMP%] {\\n  flex: 1 0;\\n  object-fit: cover;\\n  border-radius: 3rem;\\n  height: 35rem;\\n}\\n\\n  img[_ngcontent-%COMP%]:hover {\\n    opacity: 0.9;\\n    cursor: pointer;\\n  }\\n\\n.details[_ngcontent-%COMP%] {\\n    width: 100%;\\n    display: flex;\\n    flex-direction: column;\\n    flex: 1 0;\\n    border-radius: 3rem;\\n    padding: 2rem;\\n    color: black;\\n    margin-left: 1rem;\\n}\\n\\n.title[_ngcontent-%COMP%] {\\n    font-size: 2.2rem;\\n    font-weight: bold;\\n}\\n\\n.price[_ngcontent-%COMP%] {\\n    font-size: 1.5rem;\\n    font-weight: bold;\\n}\\n\\n.location[_ngcontent-%COMP%] {\\n    margin-bottom: 2rem;\\n    display: flex;\\n    justify-content: space-between;\\n}\\n\\n.actions[_ngcontent-%COMP%] {\\n    margin-left: 4.5rem;\\n}\\n\\n.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    margin-right: 0.5rem;\\n    font-size: 1rem;\\n    padding: 0.4rem 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmVzZXJ2YXRpb24tZGV0YWlscy9yZXNlcnZhdGlvbi1kZXRhaWxzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsZUFBZTtBQUNqQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixnQkFBZ0I7QUFDcEI7O0FBRUE7RUFDRSxTQUFTO0VBQ1QsaUJBQWlCO0VBQ2pCLG1CQUFtQjtFQUNuQixhQUFhO0FBQ2Y7O0VBRUU7SUFDRSxZQUFZO0lBQ1osZUFBZTtFQUNqQjs7QUFFRjtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLFNBQVM7SUFDVCxtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLFlBQVk7SUFDWixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixhQUFhO0lBQ2IsOEJBQThCO0FBQ2xDOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksb0JBQW9CO0lBQ3BCLGVBQWU7SUFDZixvQkFBb0I7QUFDeEIiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZmxleC13cmFwOiB3cmFwO1xufVxuXG4uY29udGFpbmVyID4gKiB7XG4gICAgbWluLXdpZHRoOiAyNXJlbTtcbiAgICBtYXgtd2lkdGg6IDQwcmVtO1xufVxuXG5pbWcge1xuICBmbGV4OiAxIDA7XG4gIG9iamVjdC1maXQ6IGNvdmVyO1xuICBib3JkZXItcmFkaXVzOiAzcmVtO1xuICBoZWlnaHQ6IDM1cmVtO1xufVxuXG4gIGltZzpob3ZlciB7XG4gICAgb3BhY2l0eTogMC45O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG4uZGV0YWlscyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGZsZXg6IDEgMDtcbiAgICBib3JkZXItcmFkaXVzOiAzcmVtO1xuICAgIHBhZGRpbmc6IDJyZW07XG4gICAgY29sb3I6IGJsYWNrO1xuICAgIG1hcmdpbi1sZWZ0OiAxcmVtO1xufVxuXG4udGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMi4ycmVtO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4ucHJpY2Uge1xuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4ubG9jYXRpb24ge1xuICAgIG1hcmdpbi1ib3R0b206IDJyZW07XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG5cbi5hY3Rpb25zIHtcbiAgICBtYXJnaW4tbGVmdDogNC41cmVtO1xufVxuXG4uYWN0aW9ucyBidXR0b24ge1xuICAgIG1hcmdpbi1yaWdodDogMC41cmVtO1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICBwYWRkaW5nOiAwLjRyZW0gMXJlbTtcbn1cblxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["ReservationDetailsComponent","constructor","_router","_reservationService","_houseService","activatedRoute","params","subscribe","id","loadReservation","deleteReservation","reservation","confirmDelete","confirm","House","Title","ReservationId","response","success","console","log","message","navigate","error","reservationId","getReservationById","setHouseForReservations","getHouseById","HouseId","house","backToReservations","ngOnInit","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/teresapham/Projects/Group-Project-2/Group-Project-2/ClientApp/src/app/reservation-details/reservation-details.component.ts","/Users/teresapham/Projects/Group-Project-2/Group-Project-2/ClientApp/src/app/reservation-details/reservation-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ReservationService } from '../reservations/reservations.service';\nimport { IReservation } from '../reservations/reservation';\nimport { HouseService } from '../houses/houses.service';\n\n@Component({\n  selector: 'app-reservation-details-component',\n  templateUrl: './reservation-details.component.html',\n  styleUrls: ['./reservation-details.component.css']\n})\n\nexport class ReservationDetailsComponent implements OnInit {\n  viewTitle: string = 'Details';\n  reservation!: IReservation;\n\n  constructor(\n    private _router: Router,\n    private _reservationService: ReservationService,\n    private _houseService: HouseService,\n    private activatedRoute: ActivatedRoute) {\n    activatedRoute.params.subscribe((params) => {\n      if (params.id)\n        this.loadReservation(+params['id'])\n    })\n  }\n\n  deleteReservation(reservation: IReservation): void {\n    const confirmDelete = confirm(`Are you sure you want to delete \"${reservation.House?.Title}\"?`);\n    if (confirmDelete) {\n      this._reservationService.deleteReservation(reservation.ReservationId)\n        .subscribe(\n          (response) => {\n            if (response.success) {\n              console.log(response.message);\n              this._router.navigate(['/reservations']);\n            }\n          },\n          (error) => {\n            console.error('Error deleting reservation:', error);\n          });\n    }\n  }\n\n  loadReservation(reservationId: number) {\n    this._reservationService.getReservationById(reservationId)\n      .subscribe(\n        (reservation: any) => {\n          console.log('retrieved reservation: ', reservation);\n          this.reservation = reservation;\n        }, (error: any) => {\n          console.error('Error loading reservation for details view:', error);\n        }\n      );\n  }\n\n  setHouseForReservations() {\n    this._houseService.getHouseById(this.reservation.HouseId).subscribe(house => {\n      console.log('Retrieved house:', house);\n      this.reservation.House = house;\n      console.log('Reservation after setting House:', this.reservation);\n    });\n  }\n\n  backToReservations() {\n    this._router.navigate(['/reservations']);\n  }\n\n  ngOnInit(): void {\n\n  }\n}\n","<div class=\"my-3\">\n    <a class=\"btn btn-outline-dark rounded-pill\" (click)=\"backToReservations()\">Back to Reservations</a>\n</div>\n\n<h3 class=\"my-4\">\n    Reservation {{reservation.ReservationId}}\n</h3>\n\n<div class=\"container row\">\n    <img [src]=\"reservation.House?.HouseImageUrl\" [alt]=\"reservation.House?.Title\" class=\"col-md-6\" routerLink=\"/house-details/{{ reservation.HouseId }}\" />\n    <div class=\"details col-md-6 p-3\">\n        <span class=\"title\">{{ reservation.House?.Title }}</span>\n        <div class=\"price\">\n            <span>{{ reservation.House?.PricePerNight ?? 0 | convertToCurrency: 'kr'}} / night</span>\n        </div>\n        <div class=\"description\"><span>{{ reservation.House?.Description }}</span></div>\n        <div class=\"room-info my-3\">\n            <span class=\"badge rounded-pill bg-light text-dark\">{{ reservation.House?.Bedrooms }} Bedrooms</span>\n            <span class=\"badge rounded-pill bg-light text-dark\">{{ reservation.House?.Bathrooms }} Bathrooms</span>\n        </div>\n        <dl class=\"row\">\n            <dt class=\"col-sm-5\"><strong>Location</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.House?.Location}}</dd>\n\n            <dt class=\"col-sm-5\"><strong>Host</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.House?.User?.FirstName}} {{reservation.House?.User?.LastName}}</dd>\n\n            <dt class=\"col-sm-5\"><strong>Date Created</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.DateCreated | date: 'dd-MM-yyyy'}}</dd>\n            <hr />\n            <dt class=\"col-sm-5\"><strong>Check-In</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.CheckInDate | date: 'dd-MM-yyyy'}}</dd>\n\n            <dt class=\"col-sm-5\"><strong>Check-Out</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.CheckOutDate | date: 'dd-MM-yyyy'}}</dd>\n            <hr />\n            <dt class=\"col-sm-5\"><strong>Booking duration</strong></dt>\n            <dd class=\"col-sm-7\">{{reservation.BookingDuration}} days</dd>\n\n            <dt class=\"col-sm-5\"><strong>Price per night</strong> </dt>\n            <dd class=\"col-sm-7\">{{reservation.House?.PricePerNight ?? 0 | convertToCurrency: 'kr'}}</dd>\n            <hr />\n            <dt class=\"col-sm-5\"><strong>Total Price</strong> </dt>\n            <dd class=\"col-sm-7\"><strong>{{reservation.TotalPrice | convertToCurrency: 'kr'}}</strong></dd>\n        </dl>\n        <div class=\"row mt-3\">\n            <div class=\"col-md-6\">\n                <a class=\"btn btn-secondary rounded-pill w-100\" [routerLink]=\"['/reservationform', 'edit', reservation.ReservationId, viewTitle]\">Update</a>\n            </div>\n            <div class=\"col-md-6\">\n                <a class=\"btn btn-danger rounded-pill w-100\" (click)=\"deleteReservation(reservation)\">Delete</a>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}